# Решение проблемы: ноды не появляются в меню Sverchok

## Что было исправлено

### 1. Добавлен `__init__.py` с явной регистрацией
Файл `sverchok_nodes/renga/__init__.py` теперь явно регистрирует все ноды при загрузке модуля.

### 2. Добавлена категория `sv_category = "Renga"` ко всем нодам
Все три ноды теперь имеют категорию "Renga", что позволяет им появиться в меню Sverchok:
- `renga_connect.py` - добавлено `sv_category = "Renga"`
- `renga_create_columns.py` - добавлено `sv_category = "Renga"`
- `renga_get_walls.py` - добавлено `sv_category = "Renga"`

## Что нужно сделать сейчас

### Шаг 1: Скопируйте обновленные файлы

Скопируйте **все файлы** из папки:
```
C:\Program Files\Renga Standard\RengaSDK\Samples\C#\Renga_Sverchok\sverchok_nodes\renga\
```

В папку Sverchok:
```
C:\Users\<ВашеИмя>\AppData\Roaming\Blender Foundation\Blender\5.0\scripts\addons\sverchok-master\nodes\renga\
```

**Важно:** Убедитесь, что скопированы ВСЕ файлы, включая обновленный `__init__.py`!

### Шаг 2: Удалите кэш Python

1. Закройте Blender полностью
2. Удалите папку `__pycache__` в `nodes\renga\` (если есть)
3. Также удалите файлы `.pyc` если они есть

### Шаг 3: Перезапустите Blender

1. Запустите Blender заново
2. Убедитесь, что аддон Sverchok активирован

### Шаг 4: Принудительная регистрация (если нужно)

Если ноды все еще не появляются, используйте скрипт `force_register_nodes.py`:

1. Откройте Blender
2. Перейдите в **Text Editor**
3. Откройте файл `force_register_nodes.py` (или скопируйте его содержимое)
4. Нажмите **Run Script** (Alt+P)
5. Проверьте вывод в консоли

### Шаг 5: Перезагрузите аддон Sverchok

1. `Edit > Preferences > Add-ons`
2. Найдите "Sverchok"
3. Снимите галочку (отключите)
4. Поставьте галочку обратно (включите)

### Шаг 6: Проверьте меню

1. Откройте Sverchok (добавьте ноду в дерево нод)
2. Нажмите `Add Node` (или `Space` для поиска)
3. Найдите категорию **"Renga"** в меню
4. Должны быть видны три ноды:
   - **Renga Connect**
   - **Renga Create Columns**
   - **Renga Get Walls**

## Альтернативный способ: поиск нод

Если ноды зарегистрированы, но не видны в категориях меню:

1. Откройте Sverchok
2. Нажмите **Space** (или кнопку поиска)
3. Введите **"Renga"** или **"SvRenga"**
4. Ноды должны появиться в результатах поиска

## Проверка регистрации

Выполните в консоли Blender (Text Editor > Run Script):

```python
import bpy

print("Проверка нод:")
print("SvRengaConnectNode:", 'SvRengaConnectNode' in dir(bpy.types))
print("SvRengaCreateColumnsNode:", 'SvRengaCreateColumnsNode' in dir(bpy.types))
print("SvRengaGetWallsNode:", 'SvRengaGetWallsNode' in dir(bpy.types))
```

Если все три команды возвращают `True` - ноды зарегистрированы правильно!

## Если проблема сохраняется

1. **Проверьте консоль Blender** на ошибки:
   - `Window > Toggle System Console`
   - Перезагрузите аддон Sverchok
   - Ищите ошибки импорта или регистрации

2. **Проверьте версию Sverchok**:
   - Убедитесь, что используется совместимая версия
   - Рекомендуется последняя стабильная версия

3. **Проверьте структуру файлов**:
   ```
   nodes/renga/
   ├── __init__.py              ← ОБЯЗАТЕЛЬНО должен быть
   ├── renga_connect.py
   ├── renga_create_columns.py
   ├── renga_get_walls.py
   ├── renga_client.py
   ├── commands.py
   └── connection_protocol.py
   ```

4. **Используйте скрипт проверки**:
   - Откройте `simple_check.py` в Blender
   - Запустите скрипт
   - Проверьте вывод

## Известные проблемы

### Sverchok v1.4.0 + Blender 5.0

Есть известная проблема, когда ноды регистрируются, но не появляются в меню категорий. Это проблема Sverchok, а не наших нод.

**Решение:** Используйте поиск (Space) для доступа к нодам.

## Итог

После всех исправлений:
- ✅ Все ноды имеют категорию "Renga"
- ✅ `__init__.py` явно регистрирует все ноды
- ✅ Создан скрипт для принудительной регистрации
- ✅ Обновлен скрипт проверки

Если ноды зарегистрированы (проверка через `dir(bpy.types)` возвращает `True`), но не видны в меню - используйте поиск (Space) для доступа к нодам.

